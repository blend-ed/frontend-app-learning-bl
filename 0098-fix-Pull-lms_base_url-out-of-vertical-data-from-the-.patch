From e2399e30d441ca2e569d8c4a52954152ced4c0f0 Mon Sep 17 00:00:00 2001
From: David Joy <davidjoy@users.noreply.github.com>
Date: Thu, 9 Apr 2020 11:26:02 -0400
Subject: [PATCH 0098/1021] fix: Pull lms_base_url out of vertical data from
 the blocks API (#46)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

TNL-7170

lms_base_url becomes lmsBaseUrl in the app and is then used by the InstructorToolbar to link the user back to the LMS.  If it isnâ€™t present, the toolbar hides itself.  This puts it back.
---
 src/courseware/course/Course.jsx | 6 +++---
 src/data/api.js                  | 1 +
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/src/courseware/course/Course.jsx b/src/courseware/course/Course.jsx
index 1b71081..1c751e8 100644
--- a/src/courseware/course/Course.jsx
+++ b/src/courseware/course/Course.jsx
@@ -64,9 +64,9 @@ function Course({
           courseTitle={title}
         />
         {isStaff && (
-        <InstructorToolbar
-          unitId={unitId}
-        />
+          <InstructorToolbar
+            unitId={unitId}
+          />
         )}
         <CourseTabsNavigation tabs={tabs} activeTabSlug="courseware" />
         <div className="container-fluid">
diff --git a/src/data/api.js b/src/data/api.js
index 37363af..9559616 100644
--- a/src/data/api.js
+++ b/src/data/api.js
@@ -65,6 +65,7 @@ function normalizeBlocks(courseId, blocks) {
         models.units[block.id] = {
           id: block.id,
           title: block.display_name,
+          lmsWebUrl: block.lms_web_url,
         };
         break;
       default:
-- 
2.34.1

